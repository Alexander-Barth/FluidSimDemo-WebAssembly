<!DOCTYPE html>
<html>
  <head>
    <title>Fluid Simulation using Julia compiled to WASM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <style>
    body {
      font-family: Sans-Serif;
    }

    form {
      display: table;
      border-spacing: 5px;
    }

    form>div {
      display: table-row;
    }

    label {
      display: table-cell;
      text-align: right;
    }
  </style>
  <body>
    <script type="module">
      import { run } from './test_fluid_sim.js';
      run();
    </script>

    <h3>Inviscit and incompressible Navier-Stokes equations in 2D implemented in Julia and compiled to WASM.</h3>
    <div><canvas id="plot" width="600" height="200" /></div>
    <p>The field shows the pressure of the flow around a circular obstacle.</p>

    <form>
      <div>
        <label for="u0">Inflow velocity (m/s)</label><input id="u0" type="number" value="2" step="0.01" min="0">
      </div>
      <div>
        <label for="DeltaT">Time step (s)</label><input id="DeltaT" type="number" value="0.015" step="0.001">
      </div>
      <div>
        <label for="iter_pressure">Iteration for pressure solver</label><input id="iter_pressure" type="number" value="40" step="1" min="0">
      </div>
      <div>
        <label for="overrelaxation">Over-relaxation factor</label><input id="overrelaxation" type="number" value="1.9" step="0.01" min="1" max="2">
      </div>
    </div>

    <div>
      <label for="pmin">Minimum pressure (Pa)</label><input id="pmin" type="number" value="-4000" step="10">
    </div>
    <div>
      <label for="pmax">Maximum pressure (Pa)</label><input id="pmax" type="number" value="2000" step="10">
    </div>
    </form>
    <p>The minimum and maximum pressure are only used for plotting the pressure field. The pressure is defined only up to an additive constant</p>
    <p>More information and the code is <a href="https://github.com/Alexander-Barth/FluidSimDemo-WebAssembly">avaiable here</a>.</p>
  </body>
</html>
